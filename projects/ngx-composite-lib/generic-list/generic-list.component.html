<div *ngIf="inline" class="inline-container" [ngClass]="{ 'add-padding': addPadding }">
    <div class="inline-top-bar-container">
        <ng-container *ngTemplateOutlet="topBarTemplate"></ng-container>
    </div>
    <ng-container *ngTemplateOutlet="listTemplate"></ng-container>
</div>

<pep-page-layout *ngIf="!inline" [addPadding]="addPadding">
    <ng-container pep-top-area>
        <ng-container *ngTemplateOutlet="topBarTemplate"></ng-container>
    </ng-container>

    <div pep-main-area class="main-area-container">
        <ng-container *ngTemplateOutlet="listTemplate"></ng-container>
    </div>
</pep-page-layout>
    
<ng-template #topBarTemplate>
    <pep-top-bar [title]="title" [inline]="inline">
        <div header-start-content>
            <ng-content select="[left-buttons]"></ng-content>
        </div>
        <div header-end-content>
            <ng-content select="[right-buttons]"></ng-content>
        </div>
        <pep-list-actions [sizeType]="inline ? 'sm' : 'md'" [actions]="menuActions" (actionClick)="onMenuItemClicked($event)"></pep-list-actions>
        <pep-list-total [sizeType]="inline ? 'sm' : 'md'" [totalRows]="customList ? customList.totalRows : -1"></pep-list-total>

        <pep-search *ngIf="showSearch" [sizeType]="inline ? 'sm' : 'md'" (search)="onSearchChanged($event)">
        </pep-search>
    </pep-top-bar>
</ng-template>

<ng-template #listTemplate>
    <div #listContainer class="list-container">
        
        <pep-list *ngIf="hasRows" viewType="table" [supportSorting]="supportSorting"
            [selectionTypeForActions]="allowMultipleSelection ? 'multi' : (allowSelection ? 'single' : 'none')" [noDataFoundMsg]="noDataFoundMsg"
            (fieldClick)="onCustomizeFieldClick($event)" [firstFieldAsLink]="firstFieldAsLink"
            (selectedItemsChange)="selectedRowsChanged($event)">
        </pep-list>
        <ng-container *ngIf="!hasRows">
            <div class="noDataFoundMsg">
                    <h2>{{noDataFoundMsg}}</h2>
            </div>
        </ng-container>
    </div>
</ng-template>